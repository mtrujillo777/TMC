<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Transactional Communication Tap-to-Drop</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6fa;
  padding: 20px;
}
.container {
  max-width: 900px;
  margin: auto;
  background: #ffffff;
  padding: 25px;
  border-radius: 10px;
}
h2 { text-align: center; }
.instructions { margin-bottom: 15px; }
.scenario {
  background: #eef2f7;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 25px;
  line-height: 1.6;
}
.drag-bank {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-bottom: 25px;
}
.drag-item {
  padding: 10px 14px;
  background: #4a6fa5;
  color: #ffffff;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
  text-align: center;
  user-select: none;
}
.drop-zones {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 15px;
}
.drop-zone {
  border: 2px dashed #999;
  border-radius: 8px;
  padding: 12px;
  min-height: 80px;
  background: #f9f9f9;
}
.drop-zone strong { display: block; margin-bottom: 6px; }
.feedback { margin-top: 6px; font-size: 0.9em; color: #444; }
.correct { border-color: green; }
.incorrect { border-color: red; }
button { margin-top: 20px; padding: 10px 18px; font-size: 16px; }
#result { margin-top: 15px; font-size: 18px; font-weight: bold; }
</style>
</head>

<body>
<div class="container">
<h2>ðŸ”„ Transactional Communication: Tap-to-Drop</h2>

<div class="instructions">
<strong>Directions:</strong> Read the communication transaction below. Tap a label to select it, then tap the description it best represents.
</div>

<div class="scenario" id="scenarioText"></div>

<div class="drag-bank" id="dragBank">
  <div class="drag-item" id="senderreceiver">Simultaneous Sender & Receiver</div>
  <div class="drag-item" id="message">Message</div>
  <div class="drag-item" id="feedback">Feedback</div>
  <div class="drag-item" id="noise-external">External Noise</div>
  <div class="drag-item" id="noise-internal">Internal Noise</div>
  <div class="drag-item" id="noise-semantic">Semantic Noise</div>
  <div class="drag-item" id="context">Context</div>
</div>

<div class="drop-zones">
  <div class="drop-zone" data-answer="senderreceiver">
    <strong>Both individuals communicating and reacting at the same time:</strong>
    <div class="feedback"></div>
  </div>
  <div class="drop-zone" data-answer="message">
    <strong>The spoken explanations and information exchanged:</strong>
    <div class="feedback"></div>
  </div>
  <div class="drop-zone" data-answer="feedback">
    <strong>Nonverbal and verbal responses during the interaction:</strong>
    <div class="feedback"></div>
  </div>
  <div class="drop-zone" data-answer="noise-external">
    <strong>Environmental distractions:</strong>
    <div class="feedback"></div>
  </div>
  <div class="drop-zone" data-answer="noise-internal">
    <strong>Thoughts, emotions, or mental interference:</strong>
    <div class="feedback"></div>
  </div>
  <div class="drop-zone" data-answer="noise-semantic">
    <strong>Misunderstanding the meaning of a word or phrase:</strong>
    <div class="feedback"></div>
  </div>
  <div class="drop-zone" data-answer="context">
    <strong>The situation, setting, and expectations influencing communication:</strong>
    <div class="feedback"></div>
  </div>
</div>

<button onclick="checkAnswers()">Check Answers</button>
<div id="result"></div>
</div>

<script>
/* ---------- SCENARIOS ---------- */
const scenarios = [
`During a busy lunch shift at a restaurant, a shift lead speaks with a server about a recent customer complaint.
The shift lead explains that a customer felt ignored while waiting for service.
The server listens while anxious about multiple tables.
The server nods and responds by explaining the workload.
Kitchen noise and nearby conversations continue.
The server briefly misunderstands the phrase â€œtable rotation.â€
Both individuals feel pressure from time and workplace expectations.`,

`During a group project meeting on Zoom, two students discuss how to divide responsibilities.
One explains their idea while watching the chat and reacting to facial expressions.
The other responds verbally while taking notes.
One student feels stressed due to another class.
Poor internet connection causes audio cuts.
The phrase â€œtake the leadâ€ is interpreted differently.
Virtual setting, academic expectations, and deadlines influence the interaction.`,

`During a parent-teacher conference, a teacher discusses a studentâ€™s recent performance.
The teacher explains assessment criteria while observing the parentâ€™s reactions.
The parent listens but feels defensive.
The parent asks questions and nods during the explanation.
A hallway announcement interrupts the conversation.
The word â€œparticipationâ€ causes confusion due to differing definitions.
Formal school setting, roles, and emotional stakes shape the exchange.`
];

document.getElementById("scenarioText").textContent =
  scenarios[Math.floor(Math.random() * scenarios.length)];

/* ---------- RANDOMIZE DRAG ITEMS ---------- */
const dragBank = document.getElementById("dragBank");
Array.from(dragBank.children)
  .sort(() => Math.random() - 0.5)
  .forEach(item => dragBank.appendChild(item));

/* ---------- TAP-TO-DROP FUNCTIONALITY ---------- */
let selectedItem = null;

document.querySelectorAll('.drag-item').forEach(item => {
  item.addEventListener('click', () => {
    // toggle selection
    if(selectedItem) selectedItem.style.border = "none";
    selectedItem = item;
    item.style.border = "3px solid yellow";
  });
});

document.querySelectorAll('.drop-zone').forEach(zone => {
  zone.addEventListener('click', () => {
    if(selectedItem) {
      // remove previous if exists
      let prev = zone.querySelector('.drag-item');
      if(prev) dragBank.appendChild(prev);
      zone.appendChild(selectedItem);
      selectedItem.style.border = "none";
      selectedItem = null;
    }
  });
});

/* ---------- FEEDBACK EXPLANATIONS ---------- */
const explanations = {
  "senderreceiver": "In the transactional model, both participants send and receive messages simultaneously.",
  "message": "Messages are the verbal and nonverbal information being exchanged.",
  "feedback": "Feedback includes responses that indicate how messages are interpreted.",
  "noise-external": "External noise comes from environmental distractions.",
  "noise-internal": "Internal noise involves thoughts, stress, or emotions affecting understanding.",
  "noise-semantic": "Semantic noise occurs when words or phrases are interpreted differently.",
  "context": "Context includes setting, roles, expectations, and situational factors."
};

/* ---------- CHECK ANSWERS ---------- */
function checkAnswers() {
  let score = 0;
  document.querySelectorAll('.drop-zone').forEach(zone => {
    const correct = zone.dataset.answer;
    const item = zone.querySelector('.drag-item');
    const feedback = zone.querySelector('.feedback');

    if(item && item.id === correct){
      zone.className = "drop-zone correct";
      feedback.textContent = "Correct.";
      score++;
    } else {
      zone.className = "drop-zone incorrect";
      feedback.textContent = explanations[correct];
    }
  });

  document.getElementById("result").textContent =
    `Score: ${score}/7 â€” Review the explanations above to improve understanding.`;
}
</script>
</body>
</html>
