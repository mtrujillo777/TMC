<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Transactional Communication Drag & Drop</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6fa;
  padding: 20px;
}

.container {
  max-width: 1000px;
  margin: auto;
  background: #ffffff;
  padding: 20px;
  border-radius: 10px;
}

h2 {
  text-align: center;
}

.instructions {
  margin-bottom: 15px;
}

/* IMAGE AREA */
.scene {
  display: flex;
  justify-content: center;
  margin-bottom: 25px;
}

/* DRAG ITEMS */
.drag-bank {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 25px;
  justify-content: center;
}

.drag-item {
  padding: 10px 14px;
  background: #4a6fa5;
  color: white;
  border-radius: 6px;
  cursor: grab;
  font-weight: bold;
}

/* DROP ZONES */
.drop-zones {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 15px;
}

.drop-zone {
  border: 2px dashed #999;
  border-radius: 8px;
  padding: 12px;
  min-height: 60px;
  background: #f9f9f9;
}

.drop-zone strong {
  display: block;
  margin-bottom: 5px;
}

.correct {
  border-color: green;
}

.incorrect {
  border-color: red;
}

button {
  margin-top: 20px;
  padding: 10px 18px;
  font-size: 16px;
}

#result {
  margin-top: 15px;
  font-size: 18px;
  font-weight: bold;
}
</style>
</head>

<body>

<div class="container">
  <h2>ðŸ”„ Transactional Communication: Drag & Drop</h2>

  <div class="instructions">
    <strong>Directions:</strong> Examine the interaction below. Drag each communication component to the correct description. Each person is a sender and receiver simultaneously.
  </div>

  <!-- IMAGE SCENE (SVG) -->
  <div class="scene">
    <svg width="700" height="300" viewBox="0 0 700 300" role="img" aria-label="Two coworkers speaking in a busy restaurant">
      <!-- Background -->
      <rect width="700" height="300" fill="#e9eef4"/>

      <!-- Person 1 -->
      <circle cx="180" cy="100" r="35" fill="#f2c9ac"/>
      <rect x="150" y="135" width="60" height="90" rx="10" fill="#4a6fa5"/>
      <text x="180" y="250" text-anchor="middle" font-size="14">Maria</text>

      <!-- Speech bubble 1 -->
      <rect x="40" y="30" width="220" height="60" rx="10" fill="#ffffff"/>
      <text x="50" y="55" font-size="13">
        Concerned about customer service
      </text>

      <!-- Person 2 -->
      <circle cx="520" cy="100" r="35" fill="#d9b38c"/>
      <rect x="490" y="135" width="60" height="90" rx="10" fill="#7a9e7e"/>
      <text x="520" y="250" text-anchor="middle" font-size="14">Devon</text>

      <!-- Speech bubble 2 -->
      <rect x="420" y="30" width="240" height="60" rx="10" fill="#ffffff"/>
      <text x="430" y="55" font-size="13">
        Acknowledges stress and responds
      </text>

      <!-- Environment -->
      <text x="350" y="285" text-anchor="middle" font-size="12" fill="#555">
        Busy restaurant â€¢ Background noise â€¢ Time pressure
      </text>
    </svg>
  </div>

  <!-- DRAG ITEMS -->
  <div class="drag-bank">
    <div class="drag-item" draggable="true" id="encoding">Encoding</div>
    <div class="drag-item" draggable="true" id="feedback">Feedback</div>
    <div class="drag-item" draggable="true" id="noise">Noise</div>
    <div class="drag-item" draggable="true" id="context">Context</div>
    <div class="drag-item" draggable="true" id="simultaneous">Simultaneous Sender & Receiver</div>
  </div>

  <!-- DROP ZONES -->
  <div class="drop-zones">
    <div class="drop-zone" data-answer="simultaneous">
      <strong>Both Maria and Devon are acting as:</strong>
    </div>

    <div class="drop-zone" data-answer="encoding">
      <strong>The spoken messages in the speech bubbles represent:</strong>
    </div>

    <div class="drop-zone" data-answer="feedback">
      <strong>Nods, tone changes, and immediate responses represent:</strong>
    </div>

    <div class="drop-zone" data-answer="noise">
      <strong>Restaurant sounds and distractions represent:</strong>
    </div>

    <div class="drop-zone" data-answer="context">
      <strong>The workplace setting and emotional stress represent:</strong>
    </div>
  </div>

  <button onclick="checkAnswers()">Check Answers</button>

  <div id="result"></div>
</div>

<script>
let draggedItem = null;

document.querySelectorAll('.drag-item').forEach(item => {
  item.addEventListener('dragstart', () => {
    draggedItem = item;
  });
});

document.querySelectorAll('.drop-zone').forEach(zone => {
  zone.addEventListener('dragover', e => e.preventDefault());

  zone.addEventListener('drop', () => {
    if (!zone.querySelector('.drag-item')) {
      zone.appendChild(draggedItem);
    }
  });
});

function checkAnswers() {
  let score = 0;

  document.querySelectorAll('.drop-zone').forEach(zone => {
    const answer = zone.getAttribute('data-answer');
    const item = zone.querySelector('.drag-item');

    if (item && item.id === answer) {
      zone.classList.add('correct');
      zone.classList.remove('incorrect');
      score++;
    } else {
      zone.classList.add('incorrect');
      zone.classList.remove('correct');
    }
  });

  document.getElementById('result').textContent =
    `Score: ${score}/5`;
}
</script>

</body>
</html>
