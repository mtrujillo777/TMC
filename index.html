<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<!-- CRITICAL FOR IPHONE SCALING -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Transactional Communication Activity</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6fa;
  padding: 16px;
}

.container {
  max-width: 900px;
  margin: auto;
  background: #ffffff;
  padding: 20px;
  border-radius: 10px;
}

.scenario {
  background: #eef2f7;
  padding: 18px;
  border-radius: 8px;
  margin-bottom: 20px;
}

.drag-bank {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-bottom: 20px;
}

.drag-item {
  background: #4a6fa5;
  color: #ffffff;
  border-radius: 6px;
  padding: 12px 16px;
  cursor: pointer;
  user-select: none;
}

.drop-zones {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 15px;
}

.drop-zone {
  border: 2px dashed #999;
  border-radius: 8px;
  padding: 14px;
  min-height: 90px;
  background: #f9f9f9;
}

.feedback {
  margin-top: 6px;
}

.correct { border-color: green; }
.incorrect { border-color: red; }

button {
  margin-top: 20px;
  padding: 12px 18px;
}
</style>
</head>

<body>

<div class="container">

  <h2>
    <font size="5">ðŸ”„ Transactional Communication: Practice Activity</font>
  </h2>

  <p>
    <font size="4">
      <strong>Directions:</strong> Read the communication transaction below.
      Tap a label to select it, then tap the description it best represents.
    </font>
  </p>

  <div class="scenario">
    <p>
      <font size="4" id="scenarioText"></font>
    </p>
  </div>

  <!-- LABEL BANK -->
  <div class="drag-bank" id="dragBank">
    <div class="drag-item" id="senderreceiver">
      <font size="4"><strong>Simultaneous Sender & Receiver</strong></font>
    </div>
    <div class="drag-item" id="message">
      <font size="4"><strong>Message</strong></font>
    </div>
    <div class="drag-item" id="feedback">
      <font size="4"><strong>Feedback</strong></font>
    </div>
    <div class="drag-item" id="noise-external">
      <font size="4"><strong>External Noise</strong></font>
    </div>
    <div class="drag-item" id="noise-internal">
      <font size="4"><strong>Internal Noise</strong></font>
    </div>
    <div class="drag-item" id="noise-semantic">
      <font size="4"><strong>Semantic Noise</strong></font>
    </div>
    <div class="drag-item" id="context">
      <font size="4"><strong>Context</strong></font>
    </div>
  </div>

  <!-- DROP ZONES -->
  <div class="drop-zones">

    <div class="drop-zone" data-answer="senderreceiver">
      <strong><font size="4">Both individuals communicating and reacting at the same time:</font></strong>
      <div class="feedback"><font size="3"></font></div>
    </div>

    <div class="drop-zone" data-answer="message">
      <strong><font size="4">The spoken explanations and information exchanged:</font></strong>
      <div class="feedback"><font size="3"></font></div>
    </div>

    <div class="drop-zone" data-answer="feedback">
      <strong><font size="4">Nonverbal and verbal responses during the interaction:</font></strong>
      <div class="feedback"><font size="3"></font></div>
    </div>

    <div class="drop-zone" data-answer="noise-external">
      <strong><font size="4">Environmental distractions:</font></strong>
      <div class="feedback"><font size="3"></font></div>
    </div>

    <div class="drop-zone" data-answer="noise-internal">
      <strong><font size="4">Thoughts, emotions, or mental interference:</font></strong>
      <div class="feedback"><font size="3"></font></div>
    </div>

    <div class="drop-zone" data-answer="noise-semantic">
      <strong><font size="4">Misunderstanding the meaning of a word or phrase:</font></strong>
      <div class="feedback"><font size="3"></font></div>
    </div>

    <div class="drop-zone" data-answer="context">
      <strong><font size="4">The situation, setting, and expectations influencing communication:</font></strong>
      <div class="feedback"><font size="3"></font></div>
    </div>

  </div>

  <button onclick="checkAnswers()">
    <font size="4"><strong>Check Answers</strong></font>
  </button>

  <p id="result">
    <font size="4"></font>
  </p>

</div>

<script>
/* ---------- SCENARIOS ---------- */
const scenarios = [
`During a busy lunch shift at a restaurant, a shift lead speaks with a server about a recent customer complaint.
The shift lead explains that a customer felt ignored while waiting for service.
The server listens while feeling anxious about multiple tables.
The server nods and responds by explaining the workload.
Kitchen noise and nearby conversations continue.
The server misunderstands the phrase â€œtable rotation.â€
Time pressure and workplace expectations shape the interaction.`,

`During a Zoom group meeting, two students discuss dividing responsibilities.
One explains ideas while monitoring the chat.
The other responds verbally while taking notes.
Stress from another class distracts one student.
Internet lag interrupts audio.
The phrase â€œtake the leadâ€ is interpreted differently.
The virtual setting and academic expectations influence communication.`,

`During a parent-teacher conference, a teacher discusses student performance.
The teacher explains grading criteria while observing the parentâ€™s reactions.
The parent listens but feels defensive.
They ask follow-up questions and nod.
A hallway announcement interrupts the meeting.
The term â€œparticipationâ€ is misunderstood.
The formal school context and emotional stakes shape the exchange.`
];

document.getElementById("scenarioText").textContent =
  scenarios[Math.floor(Math.random() * scenarios.length)];

/* ---------- RANDOMIZE LABELS ---------- */
const dragBank = document.getElementById("dragBank");
Array.from(dragBank.children)
  .sort(() => Math.random() - 0.5)
  .forEach(item => dragBank.appendChild(item));

/* ---------- TAP TO DROP ---------- */
let selectedItem = null;

document.querySelectorAll('.drag-item').forEach(item => {
  item.addEventListener('click', () => {
    if (selectedItem) selectedItem.style.outline = "none";
    selectedItem = item;
    item.style.outline = "3px solid yellow";
  });
});

document.querySelectorAll('.drop-zone').forEach(zone => {
  zone.addEventListener('click', () => {
    if (selectedItem) {
      let existing = zone.querySelector('.drag-item');
      if (existing) dragBank.appendChild(existing);
      zone.appendChild(selectedItem);
      selectedItem.style.outline = "none";
      selectedItem = null;
    }
  });
});

/* ---------- FEEDBACK ---------- */
const explanations = {
  senderreceiver: "Transactional communication means both people send and receive messages simultaneously.",
  message: "The message is the information being communicated.",
  feedback: "Feedback shows how messages are interpreted.",
  "noise-external": "External noise comes from environmental distractions.",
  "noise-internal": "Internal noise involves thoughts or emotions.",
  "noise-semantic": "Semantic noise occurs when meanings differ.",
  context: "Context includes setting, roles, expectations, and situation."
};

function checkAnswers() {
  let score = 0;

  document.querySelectorAll('.drop-zone').forEach(zone => {
    const correct = zone.dataset.answer;
    const item = zone.querySelector('.drag-item');
    const feedback = zone.querySelector('.feedback').firstChild;

    if (item && item.id === correct) {
      zone.className = "drop-zone correct";
      feedback.textContent = "Correct.";
      score++;
    } else {
      zone.className = "drop-zone incorrect";
      feedback.textContent = explanations[correct];
    }
  });

  document.getElementById("result").firstChild.textContent =
    `Score: ${score}/7 â€” Review the explanations above to improve understanding.`;
}
</script>

</body>
</html>
